<App Icon="FOLDER" Category="5" Type="SUBMENU">
  <Name>
    <String str="File Explorer" />
    <String str="Explorateur de fichiers" />
    <String str="Explorador de Archivos" />
    <String str="Datei-Explorer" />
    <String str="Esplora file" />
    <String str="Bestandsverkenner" />
    <String str="Explorador de arquivos" />
  </Name>
  <Options Type="Explorer"/>
  <Context Name="OptionContext" Filter="SubDeviceOnly">
		<Component Name="{DELETE}" Icon="-1">
			<Dialog Icon="-1" Title="" BG="false" Type="CONFIRMATION" BackBtn="true" ConfirmBtn="true">
				<Text>
					<String str="Do you want to delete the selected item?" />
					<String str="Do you want to delete the selected item?" />
					<String str="Â¿Seguro que deseas eliminar el objeto seleccionado?" />
					<String str="Do you want to delete the selected item?" />
					<String str="Do you want to delete the selected item?" />
					<String str="Do you want to delete the selected item?" />
					<String str="Do you want to delete the selected item?" />
				</Text>
				<Dialog Name="DeleteItemDialogTask" Icon="-1" Title="" BG="false" Type="TEXT" Text="{WAIT}">
					<Task>
						<![CDATA[
							function() {
								const collection = DashUI.SubMenu.ItemCollection[DashUI.SubMenu.Level].Items;
								const item = collection[DashUI.SubMenu.Items.Current];
								const path = item.FullPath;
								(path.endsWith('/')) ? System.removeDirectory(path) : os.remove(path);
								collection.splice(DashUI.SubMenu.Items.Current, 1);
								if (collection.length < 1) { DashUI.SubMenu.Items.Current = -1; }
								else if (DashUI.SubMenu.Items.Current >= collection.length) { DashUI.SubMenu.Items.Current = collection.length - 1; }
								UIAnimationDialogFade_Start(false);
							}
						]]>
					</Task>
				</Dialog>
				<Event On="Confirm" Type="Transition" To="DeleteItemDialogTask" Condition="DashUI.Dialog.Data[DashUI.Dialog.Level].Selected === 0" Exit="true"/>
			</Dialog>
		</Component>
    <Confirm>
      <![CDATA[
        function(index, item) { DashUISetDialog(item.Dialog); }
      ]]>
    </Confirm>
  </Context>
</App>
